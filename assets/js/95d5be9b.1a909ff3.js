"use strict";(self.webpackChunkpaima_engine_docs=self.webpackChunkpaima_engine_docs||[]).push([[8516],{5692:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var i=t(5893),s=t(1151);const r={},a="Midnight funnel",o={id:"home/state-machine/react-to-events/funnel-types/midnight-funnel",title:"Midnight funnel",description:"Paima can observe [Midnight] contract states.",source:"@site/docs/home/100-state-machine/300-react-to-events/3-funnel-types/900-midnight-funnel.md",sourceDirName:"home/100-state-machine/300-react-to-events/3-funnel-types",slug:"/home/state-machine/react-to-events/funnel-types/midnight-funnel",permalink:"/home/state-machine/react-to-events/funnel-types/midnight-funnel",draft:!1,unlisted:!1,editUrl:"https://github.com/PaimaStudios/paima-engine-docs/tree/main/docs/home/100-state-machine/300-react-to-events/3-funnel-types/900-midnight-funnel.md",tags:[],version:"current",sidebarPosition:900,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Avail block funnel",permalink:"/home/state-machine/react-to-events/funnel-types/avail-block-funnel"},next:{title:"Primitive Catalogue",permalink:"/home/state-machine/react-to-events/primitive-catalogue/introduction"}},c={},l=[{value:"Configuration",id:"configuration",level:2},{value:"Primitives",id:"primitives",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"midnight-funnel",children:"Midnight funnel"}),"\n",(0,i.jsxs)(n.p,{children:["Paima can observe ",(0,i.jsx)(n.a,{href:"https://docs.midnight.network/learn/introduction/what-is-midnight/",children:"Midnight"})," contract states."]}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(n.p,{children:"Public devnet example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"MidnightDevnet:\n  type: midnight\n  networkId: 1\n  indexer: https://indexer.devnet.midnight.network/api/v1/graphql\n  # indexerWS: wss://indexer.devnet.midnight.network/api/v1/graphql/ws\n  confirmationDepth: 2\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://docs.midnight.network/develop/tutorial/creating/local-testing#run-the-dapp-in-standalone-mode",children:"Standalone network"})," example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"MidnightLocal:\n  type: midnight\n  networkId: 0\n  indexer: http://localhost:32807/api/v1/graphql\n  # indexerWS: ws://localhost:32807/api/v1/graphql/ws\n  confirmationDepth: 0\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"indexer"})," should be the full URL to the ",(0,i.jsx)(n.a,{href:"https://docs.midnight.network/develop/reference/midnight-api/pubsub-indexer/#queries",children:"indexer GraphQL"})," endpoint."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"indexerWs"})," can be used to manually override the ",(0,i.jsx)(n.a,{href:"https://docs.midnight.network/develop/reference/midnight-api/pubsub-indexer/#subscriptions",children:"indexer WebSocket"})," URL if the default is insufficient."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"networkId"})," must match the network ID encoded into proofs on the chain associated with the indexer.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," for a standalone test node."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"1"})," for the public devnet."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"confirmationDepth"})," controls how many Midnight blocks behind the tip will be processed.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Setting this to 0 will increase latency because the funnel will always have to wait for the newest Midnight block even if its timestamp would be higher than that of the main block being processed."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"primitives",children:"Primitives"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/home/state-machine/react-to-events/primitive-catalogue/midnight/contract-state",children:"Contract state"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>a});var i=t(7294);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);